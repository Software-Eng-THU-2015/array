<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset = "UTF-8" >
	<title>心率血压</title>
	<script type="text/javascript" src="../static/js/steps.js"></script>
	<script type="text/javascript" src="../static/js/ichartjs/ichart.1.2.min.js"></script>
	<script type="text/javascript">
    $(function () {
        var flow = [];
        for (var i = 0; i < 8; i++) {
            flow.push(Math.floor(Math.random() * (10 + ((i % 16) * 5))) + 10);
        }

        var data = [
			         	{
			         	    name: 'PV',
			         	    value: flow,
			         	    color: '#ec4646',
			         	    line_width: 2
			         	}
			         ];

	    var labels = ["0:00", "3:00", "6:00", "9:00", "12:00", "15:00", "18:00", "21:00"];

        var chart = new iChart.LineBasic2D({
            render: 'canvasDiv1',
            data: data,
            align: 'center',
            title: {
                text: '昨日心率',
                font: '微软雅黑',
                fontsize: 24,
                color: '#b4b4b4'
            },
            subtitle: {
                text: '',
                font: '微软雅黑',
                color: '#b4b4b4'
            },
            width: document.body.clientWidth,
            height: document.body.clientWidth / 3 * 2,
            shadow: true,
            shadow_color: '#202020',
            shadow_blur: 8,
            shadow_offsetx: 0,
            shadow_offsety: 0,
            background_color: '#2e2e2e',
            animation: true, //开启过渡动画
            animation_duration: 600, //600ms完成动画
            tip: {
                enable: true,
                shadow: true,
                listeners: {
                    //tip:提示框对象、name:数据名称、value:数据值、text:当前文本、i:数据点的索引
                    parseText: function (tip, name, value, text, i) {
                        return "<span style='color:#005268;font-size:12px;'>" + labels[i] + "心率约:<br/>" +
								"</span><span style='color:#005268;font-size:20px;'>" + value + "</span>";
                    }
                }
            },
            crosshair: {
                enable: true,
                line_color: '#ec4646'
            },
            sub_option: {
                smooth: true,
                label: false,
                hollow: false,
                hollow_inside: false,
                point_size: 8
            },
            footnote: {
                text: ' ',
                fontsize: 11,
                fontweight: 600,
                padding: '0 28',
                color: '#b4b4b4'
            },
            coordinate: {
                width: 300,
                height: 260,
                striped_factor: 0.18,
                grid_color: '#4e4e4e',
                axis: {
                    color: '#252525',
                    width: [0, 0, 4, 4]
                },
                scale: [{
                    position: 'left',
                    start_scale: 0,
                    end_scale: Math.max.apply(this, labels),
                    scale_space: 10,
                    scale_size: 2,
                    scale_enable: false,
                    label: { color: '#9d987a', font: '微软雅黑', fontsize: 11, fontweight: 600 },
                    scale_color: '#9f9f9f'
                }, {
                    position: 'bottom',
                    label: { color: '#9d987a', font: '微软雅黑', fontsize: 11, fontweight: 600 },
                    scale_enable: false,
                    labels: labels
                }]
            }
        });
        //利用自定义组件构造左侧说明文本
        chart.plugin(new iChart.Custom({
            drawFn: function () {
                //计算位置
                var coo = chart.getCoordinate(),
							x = coo.get('originx'),
							y = coo.get('originy'),
							w = coo.width,
							h = coo.height;
                //在左上侧的位置，渲染一个单位的文字
                chart.target.textAlign('start')
						.textBaseline('bottom')
						.textFont('600 11px 微软雅黑')
						.fillText('心率(bpm)', x - 40, y - 12, false, '#9d987a')
						.textBaseline('top')
						.fillText('(时间)', x + w + 12, y + h + 10, false, '#9d987a');

            }
        }));
        //开始画图
        chart.draw();
    });
    $(function () {
        var flow = [];
        for (var i = 0; i < 8; i++) {
            flow.push(Math.floor(Math.random() * (10 + ((i % 16) * 5))) + 10);
        }

        var data = [
			         	{
			         	    name: 'PV',
			         	    value: flow,
			         	    color: '#ec4646',
			         	    line_width: 2
			         	}
			         ];

        var labels = ["0:00", "3:00", "6:00", "9:00", "12:00", "15:00", "18:00", "21:00"];

        var chart = new iChart.LineBasic2D({
            render: 'canvasDiv2',
            data: data,
            align: 'center',
            title: {
                text: '昨日血压',
                font: '微软雅黑',
                fontsize: 24,
                color: '#b4b4b4'
            },
            subtitle: {
                text: '',
                font: '微软雅黑',
                color: '#b4b4b4'
            },
            width: document.body.clientWidth,
            height: document.body.clientWidth / 3 * 2,
            shadow: true,
            shadow_color: '#202020',
            shadow_blur: 8,
            shadow_offsetx: 0,
            shadow_offsety: 0,
            background_color: '#2e2e2e',
            animation: true, //开启过渡动画
            animation_duration: 600, //600ms完成动画
            tip: {
                enable: true,
                shadow: true,
                listeners: {
                    //tip:提示框对象、name:数据名称、value:数据值、text:当前文本、i:数据点的索引
                    parseText: function (tip, name, value, text, i) {
                        return "<span style='color:#005268;font-size:12px;'>" + labels[i] + "血压约:<br/>" +
								"</span><span style='color:#005268;font-size:20px;'>" + value + "</span>";
                    }
                }
            },
            crosshair: {
                enable: true,
                line_color: '#ec4646'
            },
            sub_option: {
                smooth: true,
                label: false,
                hollow: false,
                hollow_inside: false,
                point_size: 8
            },
            footnote: {
                text: ' ',
                fontsize: 11,
                fontweight: 600,
                padding: '0 28',
                color: '#b4b4b4'
            },
            coordinate: {
                width: 300,
                height: 260,
                striped_factor: 0.18,
                grid_color: '#4e4e4e',
                axis: {
                    color: '#252525',
                    width: [0, 0, 4, 4]
                },
                scale: [{
                    position: 'left',
                    start_scale: 0,
                    end_scale: Math.max.apply(this, labels),
                    scale_space: 10,
                    scale_size: 2,
                    scale_enable: false,
                    label: { color: '#9d987a', font: '微软雅黑', fontsize: 11, fontweight: 600 },
                    scale_color: '#9f9f9f'
                }, {
                    position: 'bottom',
                    label: { color: '#9d987a', font: '微软雅黑', fontsize: 11, fontweight: 600 },
                    scale_enable: false,
                    labels: labels
                }]
            }
        });
        //利用自定义组件构造左侧说明文本
        chart.plugin(new iChart.Custom({
            drawFn: function () {
                //计算位置
                var coo = chart.getCoordinate(),
							x = coo.get('originx'),
							y = coo.get('originy'),
							w = coo.width,
							h = coo.height;
                //在左上侧的位置，渲染一个单位的文字
                chart.target.textAlign('start')
						.textBaseline('bottom')
						.textFont('600 11px 微软雅黑')
						.fillText('血压(mmhg)', x - 40, y - 12, false, '#9d987a')
						.textBaseline('top')
						.fillText('(时间)', x + w + 12, y + h + 10, false, '#9d987a');

            }
        }));
        //开始画图
        chart.draw();
    });
</script>
</head>
<body style="background:#66CCFF">
    <div style='text-align: center'>
        <div style="text-align:center"><img src="head.jpg" style="width:100px; height:100px; border-radius:50%;"/></div>
	    <div id='canvasDiv1'></div>
        <div id='canvasDiv2'></div>
        <div>
            <h5><font size="5px">健康状况：</font>
                <font size="6px" color=#0000FF>优秀</font>
                <img src="优秀.png" style="width:50px; height:50px; border-radius:50%;"/></h5>
        </div>
    </div>
</body>
</html>